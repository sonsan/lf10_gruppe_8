<h2 mat-dialog-title>Edit Employee</h2>
<mat-dialog-content class="mat-typography employee-form-diaglog">
	<div class="form">
		<div class="form-group">
			<mat-form-field>
				<mat-label>First Name</mat-label>
				<input
					matInput
					[(ngModel)]="employee.firstName"
					name="firstName"
					placeholder="Max"
				/>
			</mat-form-field>
			<mat-form-field>
				<mat-label>Last Name</mat-label>
				<input
					matInput
					[(ngModel)]="employee.lastName"
					name="lastName"
					placeholder="Muster"
				/>
			</mat-form-field>
		</div>

		<mat-form-field>
			<mat-label>Street</mat-label>
			<input
				matInput
				[(ngModel)]="employee.street"
				name="street"
				placeholder="Cool Street 23"
			/>
		</mat-form-field>

		<div class="form-group">
			<mat-form-field>
				<mat-label>Postcode</mat-label>
				<input
					matInput
					[(ngModel)]="employee.postcode"
					name="postcode"
					placeholder="12345"
				/>
			</mat-form-field>
			<mat-form-field>
				<mat-label>City</mat-label>
				<input
					matInput
					[(ngModel)]="employee.city"
					name="city"
					placeholder="City"
				/>
			</mat-form-field>
		</div>

		<mat-form-field>
			<mat-label>Phone #</mat-label>
			<input
				matInput
				[(ngModel)]="employee.phone"
				name="phoneNumber"
				placeholder="+49 1111 02313"
			/>
		</mat-form-field>
		<div class="employee-form-skills">
			<div class="employee-form-skills-add">
				<mat-form-field class="employee-form-skills-add-name">
					<mat-label>Skill</mat-label>
					<input matInput [(ngModel)]="newSkill" name="newSkill" />
				</mat-form-field>
				<button (click)="addSkill(newSkill)">
					<mat-icon>add</mat-icon>
				</button>
			</div>

			<div class="employee-form-skills-list">
				<mat-chip
					*ngFor="let skill of employee.skillSet"
					[selectable]="true"
					(removed)="removeSkill(skill)"
				>
					<div *ngIf="skill.length > 8; else tooShort">
						{{ skill.substring(0, 8) + "..." }}
					</div>
					<ng-template #tooShort>
						{{ skill }}
					</ng-template>

					<mat-icon matChipRemove>cancel</mat-icon>
				</mat-chip>
			</div>
		</div>
	</div>

	<div *ngIf="saving">
		<mat-spinner></mat-spinner>
		<mat-label>Saving Changes</mat-label>
	</div>
</mat-dialog-content>
<mat-dialog-actions>
	<button mat-button (click)="dialogRef.close()">Cancel</button>
	<button mat-button (click)="save()">Save</button>
</mat-dialog-actions>
